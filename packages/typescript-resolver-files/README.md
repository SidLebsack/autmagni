# @eddeee888/gcg-typescript-resolver-files

This [GraphQL Code Generator](https://www.the-guild.dev/graphql/codegen) plugin creates resolvers given GraphQL schema.

This relies on types generated from [@graphql-codegen/typescript-resolvers](https://the-guild.dev/graphql/codegen/plugins/typescript/typescript-resolvers) plugin.

```bash
yarn add -D @eddeee888/gcg-typescript-resolver-files
```

## Features

- Follows opinionated folder/file structure with type-safety in mind to help finding query, mutation or object types easily
- Will _not_ overwrite existing logic
- Detects missing / wrong resolver exports and adds them to generated resolvers

## Example

```yml
schema: '**/*.graphqls'
generates:
  src/graphql/resolvers/types.generated.ts:
    plugins:
      - typescript
      - typescript-resolvers

  src/graphql/resolvers:
    plugins:
      - '@eddeee888/gcg-typescript-resolver-files'
    config:
      resolverTypesPath: ./types.generated.ts
```

## Config

| Name                 | Type                  | Description                                                                                                                                                                                                                                 |
| -------------------- | --------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `resolverTypesPath`  | `string`              | (Required) Relative path to type file generated by `typescript-resolvers` plugin.                                                                                                                                                           |
| `mode`               | `merged` or `modules` | (Default: `modules`) How files are collocated. `modules` detects containing dir of a schema file as "modules", then split resolvers into those modules. `merged` treats `baseOutputDir` as the one and only module and generates resolvers. |
| `relativeTargetDir`  | `string`              | Relative path to target dir. For `config.mode=merged`, files will be generated into `<baseOutputDir>/<relativeTargetDir>`. For `config.mode=modules`, files will be generated into `<baseOutputDir>/<moduleName>/<relativeTargetDir>`       |
| `mainFile`           | `string`              | File that puts all generated resolvers together. Relative from `baseOutputDir`                                                                                                                                                              |
| `whitelistedModules` | `Array<string>`       | (Only works with `config.mode=modules`) Whitelists modules to generate files and main file for. Useful for gradual migrations.                                                                                                              |
